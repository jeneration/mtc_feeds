<?php

/**
 * @file
 * Bulk export of feeds_tamper_default objects generated by Bulk export module.
 */

/**
 * Implements hook_feeds_tamper_default().
 */
function mtc_feeds_feeds_tamper_default() {
  $path = drupal_get_path('module', 'mtc_feeds') . '/tampers';
  $files = file_scan_directory($path, '/\.inc$/');

  $all_feeds_tampers = array();

  foreach ($files as $filepath => $file) {
    require $filepath;
    if (isset($feeds_tampers) && is_array($feeds_tampers)) {
      $all_feeds_tampers = array_merge($all_feeds_tampers, $feeds_tampers);
    }
    // Add export for feeds tamper 1.2.
    if (isset($export) && is_array($export)) {
      $all_feeds_tampers = array_merge($all_feeds_tampers, $export);
    }
  }

  return $all_feeds_tampers;
}
